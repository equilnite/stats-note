{
  "hash": "e43217a19dc487055fca5fb93adb907e",
  "result": {
    "markdown": "# Categorical Data Visualizations\n\n\n::: {.cell}\n\n:::\n\n\n## Bar plots {#bar-plots}\n\n::: {.callout-note title=\"Bar Plots\"}\nRepresent the number or proportion of each unique value. These numbers\nor proportions are represented with rectangular bars with heights\nproportional to the values that they represent. \n\nYou can plot these vertically or horizontally (i.e. categories on the x-axis \nor categories on the y-axis)\n:::\n\nFollowing data from this table:\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Species\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"setosa\"},{\"1\":\"setosa\"},{\"1\":\"virginica\"},{\"1\":\"setosa\"},{\"1\":\"virginica\"},{\"1\":\"virginica\"},{\"1\":\"versicolor\"},{\"1\":\"versicolor\"},{\"1\":\"virginica\"},{\"1\":\"versicolor\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n1.  Count up the number of values per category (make a frequency table).\n    Note: This table is missing the total\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"iris_cat_tab\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Freq\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"setosa\",\"2\":\"3\"},{\"1\":\"versicolor\",\"2\":\"3\"},{\"1\":\"virginica\",\"2\":\"4\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n2.  Plot the frequencies with them as the height of the bars\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](02-cat-vis_files/figure-html/iris-bar-plot-1.png){width=672}\n:::\n:::\n\n\nIf needed (if you need proportions for the y-axis instead, calculate the\nrelative frequency table for the frequency table first). Note: again,\nthis one is missing the total\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"iris_cat_tab\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Freq\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"setosa\",\"2\":\"0.3\"},{\"1\":\"versicolor\",\"2\":\"0.3\"},{\"1\":\"virginica\",\"2\":\"0.4\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](02-cat-vis_files/figure-html/iris-prop-bar-plot-1.png){width=672}\n:::\n:::\n\n\n## Stacked Bar Plots and Side-by-Side Bar Graphs\n\n::: {.callout-note title=\"Multivariate Bar Plots\"}\nStacked bar plots show two categorical variables, one on the\nx-axis/y-axis, and the other as the legend (colours). We will call the\nvariable on the x-axis as the \"groups\" and the variable on the legend as\nthe \"categories.\"\n\nSide-by-Side bar graphs are similar in concept.\n:::\n\nWhen constructing these bar plots, we first want to determine which\nvariable goes where (your choice or given choice to you). Then you\ncalculate relative frequencies *per group*\n\nFor example, here I have a two-way table detailing the hair and eye\ncolour of some statistics students\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Hair\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Eye\"],\"name\":[2],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Freq\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Black\",\"2\":\"Brown\",\"3\":\"68\"},{\"1\":\"Brown\",\"2\":\"Brown\",\"3\":\"119\"},{\"1\":\"Red\",\"2\":\"Brown\",\"3\":\"26\"},{\"1\":\"Blond\",\"2\":\"Brown\",\"3\":\"7\"},{\"1\":\"Black\",\"2\":\"Blue\",\"3\":\"20\"},{\"1\":\"Brown\",\"2\":\"Blue\",\"3\":\"84\"},{\"1\":\"Red\",\"2\":\"Blue\",\"3\":\"17\"},{\"1\":\"Blond\",\"2\":\"Blue\",\"3\":\"94\"},{\"1\":\"Black\",\"2\":\"Hazel\",\"3\":\"15\"},{\"1\":\"Brown\",\"2\":\"Hazel\",\"3\":\"54\"},{\"1\":\"Red\",\"2\":\"Hazel\",\"3\":\"14\"},{\"1\":\"Blond\",\"2\":\"Hazel\",\"3\":\"10\"},{\"1\":\"Black\",\"2\":\"Green\",\"3\":\"5\"},{\"1\":\"Brown\",\"2\":\"Green\",\"3\":\"29\"},{\"1\":\"Red\",\"2\":\"Green\",\"3\":\"14\"},{\"1\":\"Blond\",\"2\":\"Green\",\"3\":\"16\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nSo if I want eye colour to be my groups, I would calculate the relative\nfrequencies by column (use the total of the column and divide the whole\ncolumn by it), so each group/column will add up to 1.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Hair\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Eye\"],\"name\":[2],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Freq\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Black\",\"2\":\"Brown\",\"3\":\"0.30909091\"},{\"1\":\"Brown\",\"2\":\"Brown\",\"3\":\"0.54090909\"},{\"1\":\"Red\",\"2\":\"Brown\",\"3\":\"0.11818182\"},{\"1\":\"Blond\",\"2\":\"Brown\",\"3\":\"0.03181818\"},{\"1\":\"Black\",\"2\":\"Blue\",\"3\":\"0.09302326\"},{\"1\":\"Brown\",\"2\":\"Blue\",\"3\":\"0.39069767\"},{\"1\":\"Red\",\"2\":\"Blue\",\"3\":\"0.07906977\"},{\"1\":\"Blond\",\"2\":\"Blue\",\"3\":\"0.43720930\"},{\"1\":\"Black\",\"2\":\"Hazel\",\"3\":\"0.16129032\"},{\"1\":\"Brown\",\"2\":\"Hazel\",\"3\":\"0.58064516\"},{\"1\":\"Red\",\"2\":\"Hazel\",\"3\":\"0.15053763\"},{\"1\":\"Blond\",\"2\":\"Hazel\",\"3\":\"0.10752688\"},{\"1\":\"Black\",\"2\":\"Green\",\"3\":\"0.07812500\"},{\"1\":\"Brown\",\"2\":\"Green\",\"3\":\"0.45312500\"},{\"1\":\"Red\",\"2\":\"Green\",\"3\":\"0.21875000\"},{\"1\":\"Blond\",\"2\":\"Green\",\"3\":\"0.25000000\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nThese numbers will be my bar heights. So for the bar(s) representing\nbrown eyes:\n\n-   black hair will be .3091\n\n-   brown hair will be .5409\n\n-   red hair will be 0.1182\n\n-   blond hair will be 0.0318\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](02-cat-vis_files/figure-html/hair-eye-seg-bar-1.png){width=672}\n:::\n:::\n\n\nHere's the corresponding side-by-side bar plot. Note that the heights of\nthe bars are the same as the segmented bar graph.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](02-cat-vis_files/figure-html/hair-eye-ss-bar-1.png){width=672}\n:::\n:::\n\n\nOn the other hand, if I want my eye colour to be my groups, I would\ncalculate the relative frequencies by row (use the total of the row and\ndivide the whole row by it), so each group/row will add up to 1.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Hair\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Eye\"],\"name\":[2],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Freq\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Black\",\"2\":\"Brown\",\"3\":\"0.62962963\"},{\"1\":\"Brown\",\"2\":\"Brown\",\"3\":\"0.41608392\"},{\"1\":\"Red\",\"2\":\"Brown\",\"3\":\"0.36619718\"},{\"1\":\"Blond\",\"2\":\"Brown\",\"3\":\"0.05511811\"},{\"1\":\"Black\",\"2\":\"Blue\",\"3\":\"0.18518519\"},{\"1\":\"Brown\",\"2\":\"Blue\",\"3\":\"0.29370629\"},{\"1\":\"Red\",\"2\":\"Blue\",\"3\":\"0.23943662\"},{\"1\":\"Blond\",\"2\":\"Blue\",\"3\":\"0.74015748\"},{\"1\":\"Black\",\"2\":\"Hazel\",\"3\":\"0.13888889\"},{\"1\":\"Brown\",\"2\":\"Hazel\",\"3\":\"0.18881119\"},{\"1\":\"Red\",\"2\":\"Hazel\",\"3\":\"0.19718310\"},{\"1\":\"Blond\",\"2\":\"Hazel\",\"3\":\"0.07874016\"},{\"1\":\"Black\",\"2\":\"Green\",\"3\":\"0.04629630\"},{\"1\":\"Brown\",\"2\":\"Green\",\"3\":\"0.10139860\"},{\"1\":\"Red\",\"2\":\"Green\",\"3\":\"0.19718310\"},{\"1\":\"Blond\",\"2\":\"Green\",\"3\":\"0.12598425\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nThese numbers will be my bar heights. So for the bar(s) representing\nblack hair:\n\n-   brown eyes will be 0.6296296\n\n-   blue eyes will be 0.1851852\n\n-   hazel eyes will be 0.1388889\n\n-   green eyes will be 0.0462963\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](02-cat-vis_files/figure-html/hair-eye-prop-seg-bar-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](02-cat-vis_files/figure-html/hair-eye-prop-ss-bar-1.png){width=672}\n:::\n:::\n\n\n## Mosaic Plots\n\n::: {.callout-note title=\"Mosaic Plots\"}\nMosaic plots are the almost the same as stacked bar plots. The only\ndifference is that the widths of the bars change according to the\nproportion of points in each group. In a mosaic plot, the x-axis will\nalso measure the proportion of observations/data points within the\ngroupings (i.e. the x-axis reflects the marginal distribution of the\nvariable on the x-axis).\n:::\n\nFollowing the [same\nsteps](#stacked-bar-plots-and-side-by-side-bar-plots) as the\nside-by-side and stacked bar charts to find the heights, we now add an\nadditional step before plotting.\n\n::: {.callout-tip}\nFind the widths of the bars by finding the marginal distribution of the\nvariable on the x-axis (the groups)\n:::\n\n\n1.  For each group, find the probability of having that trait. So for\n    our previous example, we had this table:\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Hair\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Eye\"],\"name\":[2],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"Freq\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Black\",\"2\":\"Brown\",\"3\":\"68\"},{\"1\":\"Brown\",\"2\":\"Brown\",\"3\":\"119\"},{\"1\":\"Red\",\"2\":\"Brown\",\"3\":\"26\"},{\"1\":\"Blond\",\"2\":\"Brown\",\"3\":\"7\"},{\"1\":\"Black\",\"2\":\"Blue\",\"3\":\"20\"},{\"1\":\"Brown\",\"2\":\"Blue\",\"3\":\"84\"},{\"1\":\"Red\",\"2\":\"Blue\",\"3\":\"17\"},{\"1\":\"Blond\",\"2\":\"Blue\",\"3\":\"94\"},{\"1\":\"Black\",\"2\":\"Hazel\",\"3\":\"15\"},{\"1\":\"Brown\",\"2\":\"Hazel\",\"3\":\"54\"},{\"1\":\"Red\",\"2\":\"Hazel\",\"3\":\"14\"},{\"1\":\"Blond\",\"2\":\"Hazel\",\"3\":\"10\"},{\"1\":\"Black\",\"2\":\"Green\",\"3\":\"5\"},{\"1\":\"Brown\",\"2\":\"Green\",\"3\":\"29\"},{\"1\":\"Red\",\"2\":\"Green\",\"3\":\"14\"},{\"1\":\"Blond\",\"2\":\"Green\",\"3\":\"16\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nUsing our eye colours as the groups (vertical bars), we will find:\n\n-   $P(Brown) \\approx .3716$\n\n-   $P(Blue) \\approx .3632$\n\n-   $P(Hazel) \\approx .1571$\n\n-   $P(Green) \\approx .1081$\n\nWhen we plot our mosaic plot, we do the same thing, except now, we have\nour bars differ in widths according to the numbers that we just\ncalculated.\n\n<!-- ![Mosaic Plot of Hair Colour on Eye Colour](moplotex.png) -->\n\n\n\n\n\n",
    "supporting": [
      "02-cat-vis_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}